<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>The Broadband Activity Index • Rthoptera</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The Broadband Activity Index">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Rthoptera</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/Rthoptera.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Apps.html">Launching Shiny Apps with Rthoptera</a></li>
    <li><a class="dropdown-item" href="../articles/BBAI.html">The Broadband Activity Index</a></li>
    <li><a class="dropdown-item" href="../articles/Compare.html">Comparing Rthoptera with other workflows</a></li>
    <li><a class="dropdown-item" href="../articles/Preprocess.html">Preprocessing Audio with Rthoptera</a></li>
    <li><a class="dropdown-item" href="../articles/Summarize.html">Summarizing Data with Rthoptera</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/naturewaves/Rthoptera/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>The Broadband Activity Index</h1>
                        <h4 data-toc-skip class="author">Francisco
Rivas</h4>
            
            <h4 data-toc-skip class="date">2025-09-19</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/naturewaves/Rthoptera/blob/HEAD/vignettes/BBAI.Rmd" class="external-link"><code>vignettes/BBAI.Rmd</code></a></small>
      <div class="d-none name"><code>BBAI.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The Broadband Activity Index (BBAI) is an acoustic index designed to
detect and quantify broadband acoustic activity by identifying ‘clicks’
in audio recordings. Originally developed for monitoring environmental
noise such as rain and wind in soundscape recordings, this index has
broader applications in environmental acoustic monitoring and
bioacoustic research, including quantification of stridulation activity
by Orthoptera (crickets, grasshoppers, etc.), non-stridulating pests in
stored food or wood, among others. The BBAI follows the principle that
most of these sounds have broadband acoustic signatures that appear as
vertical “clicks” in a spectrogram. These clicks span multiple frequency
bins simultaneously and represent rapid, broadband acoustic events, also
known as transient sounds.</p>
<div class="section level3">
<h3 id="step-by-step-process">Step-by-Step Process<a class="anchor" aria-label="anchor" href="#step-by-step-process"></a>
</h3>
<div class="section level4">
<h4 id="signal-preprocessing">1. Signal Preprocessing<a class="anchor" aria-label="anchor" href="#signal-preprocessing"></a>
</h4>
<p>The function begins by preprocessing the audio signal: - <strong>DC
Offset Removal</strong>: Eliminates any constant bias in the signal -
<strong>High-Pass Filtering</strong>: Optional filtering to remove
low-frequency noise (default 0 Hz, commonly set to 500 Hz for
consistency)</p>
</div>
<div class="section level4">
<h4 id="spectrogram-generation">2. Spectrogram Generation<a class="anchor" aria-label="anchor" href="#spectrogram-generation"></a>
</h4>
<p>A spectrogram is created using the <code>spectrogram_cutoff()</code>
function with: - <strong>Frequency Resolution</strong>: Determined by
the <code>freq.res</code> parameter (default 50 Hz) - <strong>Noise
Reduction</strong>: Row-wise noise reduction is applied -
<strong>Amplitude Cutoff</strong>: Values below the threshold (default
-60 dBFS) are removed - <strong>dBFS Conversion</strong>: Amplitude
values are converted to decibels full-scale</p>
</div>
<div class="section level4">
<h4 id="click-detection-algorithm">3. Click Detection Algorithm<a class="anchor" aria-label="anchor" href="#click-detection-algorithm"></a>
</h4>
<p>The core detection algorithm works <strong>column-wise</strong>
(time-frame by time-frame) through the spectrogram:</p>
<ol style="list-style-type: decimal">
<li><p>Calculate differences between adjacent frequency bins</p></li>
<li><p>Identify contiguous regions where differences are small</p></li>
<li><p>Allow small gaps within clicks</p></li>
<li><p>Keep only regions longer than minimum click length</p></li>
</ol>
<div class="section level5">
<h5 id="key-detection-parameters">Key Detection Parameters:<a class="anchor" aria-label="anchor" href="#key-detection-parameters"></a>
</h5>
<ul>
<li><p><strong><code>difference</code></strong>: Maximum amplitude
difference (dB) between adjacent frequency bins to be considered part of
the same click (default 10 dB)</p></li>
<li><p><strong><code>click.length</code></strong>: Minimum length in
frequency bins for a valid click (default 10 bins)</p></li>
<li><p><strong><code>gap.allowance</code></strong>: Maximum gap size (in
frequency bins) allowed within a single click (default 2 bins</p></li>
</ul>
</div>
</div>
<div class="section level4">
<h4 id="click-characterization">4. Click Characterization<a class="anchor" aria-label="anchor" href="#click-characterization"></a>
</h4>
<p>For each detected click, the algorithm calculates:</p>
<ul>
<li><p><strong>Height</strong>: Number of frequency bins
spanned</p></li>
<li><p><strong>Spectral Centroid</strong>: Frequency-weighted center of
the click</p></li>
<li><p><strong>Temporal Position</strong>: Time frame location</p></li>
</ul>
</div>
<div class="section level4">
<h4 id="frequency-band-analysis">5. Frequency Band Analysis<a class="anchor" aria-label="anchor" href="#frequency-band-analysis"></a>
</h4>
<p>The detected clicks are analyzed within four frequency bands, with
the following default ranges:</p>
<ul>
<li>Low-Frequency Activity (LFA): 0-2 kHz</li>
<li>Mid-Frequency Activity (MFA): 2-8 kHz</li>
<li>High-Frequency Activity (HFA): 8-15 kHz</li>
<li>Ultra-Frequency Activity (UFA): 15-22 kHz</li>
</ul>
</div>
<div class="section level4">
<h4 id="index-calculation">6. Index Calculation<a class="anchor" aria-label="anchor" href="#index-calculation"></a>
</h4>
<p>The final BBAI value is the percent of spectrogram cells that belong
to a click:</p>
<pre><code>BBAI = (Total Click Cells / Total Spectrogram Cells) × 100 </code></pre>
</div>
</div>
</div>
<div class="section level2">
<h2 id="usage-example">Usage Example<a class="anchor" aria-label="anchor" href="#usage-example"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st">"RthopteraSounds"</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"RthopteraSounds"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">RthopteraSounds</span><span class="op">)</span>  </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/naturewaves/Rthoptera" class="external-link">Rthoptera</a></span><span class="op">)</span></span>
<span><span class="co"># Load example data </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">coryphoda</span><span class="op">)</span>  </span>
<span><span class="co"># Basic usage </span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/broadband_activity2.html">broadband_activity2</a></span><span class="op">(</span><span class="va">coryphoda</span>, </span>
<span>                              freq.res <span class="op">=</span> <span class="fl">100</span>,</span>
<span>                              cutoff <span class="op">=</span> <span class="op">-</span><span class="fl">50</span>,</span>
<span>                              spectrogram <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                              verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>  </span></code></pre></div>
<pre><code><span><span class="co">## Calculating Broadband Activity Index on the left channel... </span></span>
<span><span class="co">## Automatic window length: 960 </span></span>
<span><span class="co">## Broadband Activity:  25.7 </span></span>
<span><span class="co">## Low-frequency Activity (0 - 2 kHz): 1.1 %</span></span>
<span><span class="co">## Mid-frequency Activity ( 2 - 8 kHz): 6.2 %</span></span>
<span><span class="co">## High-frequency Activity ( 8 - 15 kHz): 32.1 %</span></span>
<span><span class="co">## Ultra-frequency Activity ( 15 - 22 kHz): 42.7 %</span></span></code></pre>
<p><img src="BBAI_files/figure-html/unnamed-chunk-1-1.png" width="700"></p>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 17</span></span></span>
<span><span class="co">##   index channel value nclicks prop.clicks click.rate mean.length var.length</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> bbai  left     25.7     118         1.3        134        91.9     <span style="text-decoration: underline;">11</span>589.</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 9 more variables: sd.length &lt;dbl&gt;, mean.centroid &lt;dbl&gt;, sd.centroid &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   var.centroid &lt;dbl&gt;, mean.click.dist &lt;dbl&gt;, lfa &lt;dbl&gt;, mfa &lt;dbl&gt;, hfa &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   ufa &lt;dbl&gt;</span></span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Advanced usage with custom frequency bands </span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/broadband_activity2.html">broadband_activity2</a></span><span class="op">(</span><span class="va">coryphoda</span>, </span>
<span>                              freq.res <span class="op">=</span> <span class="fl">100</span>,</span>
<span>                              cutoff <span class="op">=</span> <span class="op">-</span><span class="fl">50</span>,</span>
<span>                              lf_roof <span class="op">=</span> <span class="fl">1.5</span>, <span class="co"># 0-1.5 kHz low freq</span></span>
<span>                              mf_roof <span class="op">=</span> <span class="fl">6</span>,  <span class="co"># 1.5-6 kHz mid freq   </span></span>
<span>                              hf_roof <span class="op">=</span> <span class="fl">12</span>, <span class="co"># 6-12 kHz high freq  </span></span>
<span>                              uf_roof <span class="op">=</span> <span class="fl">20</span>,<span class="co"># 12-20 kHz ultra freq </span></span>
<span>                              click.length <span class="op">=</span> <span class="fl">15</span>, <span class="co"># Longer minimum</span></span>
<span>                              difference <span class="op">=</span> <span class="fl">8</span>,    <span class="co"># Stricter difference threshold       </span></span>
<span>                              spectrogram <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>  </span></code></pre></div>
<pre><code><span><span class="co">## Calculating Broadband Activity Index on the left channel... </span></span>
<span><span class="co">## Automatic window length: 960 </span></span>
<span><span class="co">## Broadband Activity:  24.6 </span></span>
<span><span class="co">## Low-frequency Activity (0 - 1.5 kHz): 1.1 %</span></span>
<span><span class="co">## Mid-frequency Activity ( 1.5 - 6 kHz): 4.9 %</span></span>
<span><span class="co">## High-frequency Activity ( 6 - 12 kHz): 18.4 %</span></span>
<span><span class="co">## Ultra-frequency Activity ( 12 - 20 kHz): 40 %</span></span></code></pre>
<p><img src="BBAI_files/figure-html/unnamed-chunk-1-2.png" width="700"></p>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 17</span></span></span>
<span><span class="co">##   index channel value nclicks prop.clicks click.rate mean.length var.length</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> bbai  left     24.6     103         1.2        117         101     <span style="text-decoration: underline;">10</span>019.</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 9 more variables: sd.length &lt;dbl&gt;, mean.centroid &lt;dbl&gt;, sd.centroid &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   var.centroid &lt;dbl&gt;, mean.click.dist &lt;dbl&gt;, lfa &lt;dbl&gt;, mfa &lt;dbl&gt;, hfa &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   ufa &lt;dbl&gt;</span></span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View results table </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">summary</span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 1 × 17</span></span></span>
<span><span class="co">##   index channel value nclicks prop.clicks click.rate mean.length var.length</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> bbai  left     24.6     103         1.2        117         101     <span style="text-decoration: underline;">10</span>019.</span></span>
<span><span class="co">## <span style="color: #949494;"># ℹ 9 more variables: sd.length &lt;dbl&gt;, mean.centroid &lt;dbl&gt;, sd.centroid &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   var.centroid &lt;dbl&gt;, mean.click.dist &lt;dbl&gt;, lfa &lt;dbl&gt;, mfa &lt;dbl&gt;, hfa &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   ufa &lt;dbl&gt;</span></span></span></code></pre>
</div>
<div class="section level2">
<h2 id="output-column-explanations">Output Column Explanations<a class="anchor" aria-label="anchor" href="#output-column-explanations"></a>
</h2>
<div class="section level3">
<h3 id="core-identification-columns">Core Identification Columns<a class="anchor" aria-label="anchor" href="#core-identification-columns"></a>
</h3>
<p><strong><code>index</code></strong>: The name of the index being
calculated. Always “bbai” (Broadband Activity Index). This is useful
when merging results with other acoustic indices.</p>
<p><strong><code>channel</code></strong>: Indicates which audio channel
was analyzed (“left”, “right”, “mix”, or “each” for stereo
processing).</p>
</div>
<div class="section level3">
<h3 id="primary-activity-measures">Primary Activity Measures<a class="anchor" aria-label="anchor" href="#primary-activity-measures"></a>
</h3>
<p><strong><code>value</code></strong>: The main Broadband Activity
Index value, expressed as a percentage. This represents the proportion
of spectrogram cells that were classified as part of a “click” relative
to the total number of cells in the spectrogram. Higher values indicate
more broadband acoustic activity.</p>
<p><strong><code>nclicks</code></strong>: The total number of discrete
clicks detected in the recording. A click is defined as a contiguous
sequence of frequency bins that meet the detection criteria (minimum
length, amplitude difference thresholds, etc.).</p>
</div>
<div class="section level3">
<h3 id="temporal-distribution-measures">Temporal Distribution Measures<a class="anchor" aria-label="anchor" href="#temporal-distribution-measures"></a>
</h3>
<p><strong><code>prop.clicks</code></strong>: The proportion of time
frames that contain at least one click, expressed as a decimal (0-1).
This indicates how temporally distributed the clicks are throughout the
recording.</p>
<p><strong><code>click.rate</code></strong>: The rate of click
occurrence per second (clicks/second). This provides a temporal density
measure of acoustic activity.</p>
<p><strong><code>mean.click.dist</code></strong>: The mean distance (in
time frames) between consecutive clicks. This helps characterize the
temporal clustering of acoustic events.</p>
</div>
<div class="section level3">
<h3 id="click-morphology-measures">Click Morphology Measures<a class="anchor" aria-label="anchor" href="#click-morphology-measures"></a>
</h3>
<p><strong><code>mean.length</code></strong>: The average length of
detected clicks, measured in frequency bins. This indicates the typical
frequency span of broadband events.</p>
<p><strong><code>var.length</code></strong>: The variance in click
lengths. High variance suggests clicks of very different frequency
spans, while low variance indicates more uniform click sizes.</p>
<p><strong><code>sd.length</code></strong>: The standard deviation of
click lengths. This is the square root of <code>var.length</code> and
provides a more interpretable measure of click length variability.</p>
</div>
<div class="section level3">
<h3 id="spectral-centroid-measures">Spectral Centroid Measures<a class="anchor" aria-label="anchor" href="#spectral-centroid-measures"></a>
</h3>
<p><strong><code>mean.centroid</code></strong>: The average spectral
centroid of all detected clicks, expressed in kHz. The spectral centroid
represents the “center of mass” of the frequency spectrum for each
click, indicating where most of the acoustic energy is concentrated.</p>
<p><strong><code>sd.centroid</code></strong>: The standard deviation of
click centroids. This measures how much the frequency center of clicks
varies across the recording.</p>
<p><strong><code>var.centroid</code></strong>: The variance of click
centroids. High values suggest clicks with very different spectral
characteristics.</p>
</div>
<div class="section level3">
<h3 id="frequency-band-activity-measures">Frequency Band Activity Measures<a class="anchor" aria-label="anchor" href="#frequency-band-activity-measures"></a>
</h3>
<p><strong><code>lfa</code></strong> (Low-Frequency Activity): The
percentage of cells classified as clicks in the low-frequency band (0 to
<code>lf_roof</code> kHz, default 0-2 kHz). This captures activity in
the lower portion of the frequency spectrum, often associated with
larger organisms or environmental sounds.</p>
<p><strong><code>mfa</code></strong> (Mid-Frequency Activity): The
percentage of cells classified as clicks in the mid-frequency band
(<code>lf_roof</code> to <code>mf_roof</code> kHz, default 2-8 kHz).
This band often captures vocal activity from many animals and some
mechanical sounds.</p>
<p><strong><code>hfa</code></strong> (High-Frequency Activity): The
percentage of cells classified as clicks in the high-frequency band
(<code>mf_roof</code> to <code>hf_roof</code> kHz, default 8-15 kHz).
This range often includes insect activity, bird calls, and
higher-pitched mechanical sounds.</p>
<p><strong><code>ufa</code></strong> (Ultra-Frequency Activity): The
percentage of cells classified as clicks in the ultra-high frequency
band (<code>hf_roof</code> to <code>uf_roof</code> kHz, default 15-22
kHz). This captures very high-frequency sounds like ultrasonic insect
calls, bat echolocation, or high-frequency electronic noise. Will be set
to <code>NA</code> if <code>hf_roof</code> exceeds the Nyquist
frequency.</p>
</div>
<div class="section level3">
<h3 id="stereo-processing-additional-columns">Stereo Processing Additional Columns<a class="anchor" aria-label="anchor" href="#stereo-processing-additional-columns"></a>
</h3>
<p>When processing stereo recordings with <code>channel = "each"</code>,
the function returns separate values for left (_l) and right (_r)
channels, plus averaged values (_avg) for each measure:</p>
<ul>
<li><p><code>value_l</code>, <code>value_r</code>,
<code>value_avg</code></p></li>
<li><p><code>n_clicks_l</code>, <code>n_clicks_r</code>,
<code>n_clicks_avg</code></p></li>
<li><p>And so on for all measures…</p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="frequency-band-configuration">Frequency Band Configuration<a class="anchor" aria-label="anchor" href="#frequency-band-configuration"></a>
</h2>
<div class="section level3">
<h3 id="default-thresholds">Default Thresholds<a class="anchor" aria-label="anchor" href="#default-thresholds"></a>
</h3>
<p>The frequency bands are defined by the threshold parameters:</p>
<ul>
<li><p><strong>Low-Frequency Band (LFA)</strong>: 0 kHz to
<code>lf_roof</code> (default 2 kHz)</p></li>
<li><p><strong>Mid-Frequency Band (MFA)</strong>: <code>lf_roof</code>
to <code>mf_roof</code> (default 2-8 kHz)</p></li>
<li><p><strong>High-Frequency Band (HFA)</strong>: <code>mf_roof</code>
to <code>hf_roof</code> (default 8-15 kHz)</p></li>
<li><p><strong>Ultra-Frequency Band (UFA)</strong>: <code>hf_roof</code>
to <code>uf_roof</code> (default 15-22 kHz)</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="automatic-adjustments">Automatic Adjustments<a class="anchor" aria-label="anchor" href="#automatic-adjustments"></a>
</h3>
<p>The function includes intelligent fallback logic:</p>
<ol style="list-style-type: decimal">
<li><p><strong><code>uf_roof</code> Adjustment</strong>: If
<code>uf_roof</code> is set higher than the Nyquist frequency (sampling
rate ÷ 2), it is automatically adjusted to the Nyquist frequency to
prevent analysis beyond the available frequency range.</p></li>
<li><p><strong><code>hf_roof</code> Adjustment</strong>: If
<code>hf_roof</code> exceeds the Nyquist frequency, it is adjusted to
the Nyquist frequency, and <code>ufa</code> is set to <code>NA</code>
since no ultra-frequency band would be available.</p></li>
<li><p><strong>Empty Bands</strong>: If a frequency band contains no
frequency bins (e.g., if thresholds are set inappropriately), the
corresponding activity measure will be 0.</p></li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="parameter-tuning-guidelines">Parameter Tuning Guidelines<a class="anchor" aria-label="anchor" href="#parameter-tuning-guidelines"></a>
</h2>
<div class="section level3">
<h3 id="detection-sensitivity">Detection Sensitivity<a class="anchor" aria-label="anchor" href="#detection-sensitivity"></a>
</h3>
<ul>
<li>
<strong>Increase <code>click.length</code></strong>: Makes detection
more conservative (fewer, longer clicks)</li>
<li>
<strong>Decrease <code>difference</code></strong>: Makes detection
more sensitive (detects subtler amplitude changes)</li>
<li>
<strong>Adjust <code>cutoff</code></strong>: Lower values (more
negative) include quieter sounds</li>
</ul>
</div>
<div class="section level3">
<h3 id="frequency-resolution-trade-offs">Frequency Resolution Trade-offs<a class="anchor" aria-label="anchor" href="#frequency-resolution-trade-offs"></a>
</h3>
<ul>
<li>
<strong>Lower <code>freq.res</code></strong>: Better frequency
resolution, longer processing time</li>
<li>
<strong>Higher <code>freq.res</code></strong>: Faster processing,
coarser frequency resolution</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="interpretation-guidelines">Interpretation Guidelines<a class="anchor" aria-label="anchor" href="#interpretation-guidelines"></a>
</h2>
<div class="section level3">
<h3 id="activity-level-interpretation">Activity Level Interpretation<a class="anchor" aria-label="anchor" href="#activity-level-interpretation"></a>
</h3>
<ul>
<li>
<strong>BBAI &lt; 1%</strong>: Very low broadband activity</li>
<li>
<strong>BBAI 1-5%</strong>: Low to moderate activity</li>
<li>
<strong>BBAI 5-15%</strong>: High activity</li>
<li>
<strong>BBAI &gt; 15%</strong>: Very high activity (may indicate
noise or equipment issues)</li>
</ul>
</div>
<div class="section level3">
<h3 id="frequency-band-patterns">Frequency Band Patterns<a class="anchor" aria-label="anchor" href="#frequency-band-patterns"></a>
</h3>
<ul>
<li>
<strong>High LFA</strong>: Large organisms, wind noise, equipment
noise</li>
<li>
<strong>High MFA</strong>: Crickets</li>
<li>
<strong>High HFA</strong>: Katydids</li>
<li>
<strong>High UFA</strong>: Ultrasonic insects, bats, electronic
noise</li>
</ul>
</div>
<div class="section level3">
<h3 id="morphological-indicators">Morphological Indicators<a class="anchor" aria-label="anchor" href="#morphological-indicators"></a>
</h3>
<ul>
<li>
<strong>Large <code>mean.length</code></strong>: Broadband events
(impacts, broadband noises)</li>
<li>
<strong>High <code>var.length</code></strong>: Diverse acoustic
events</li>
<li>
<strong>High <code>mean.centroid</code></strong>: Activity
concentrated in higher frequencies</li>
<li>
<strong>High <code>click.rate</code></strong>: Frequent, brief
acoustic events</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="limitations-and-considerations">Limitations and Considerations<a class="anchor" aria-label="anchor" href="#limitations-and-considerations"></a>
</h2>
<div class="section level3">
<h3 id="technical-limitations">Technical Limitations<a class="anchor" aria-label="anchor" href="#technical-limitations"></a>
</h3>
<ul>
<li>
<strong>Sampling Rate Dependency</strong>: Higher sampling rates
provide access to ultrasonic frequencies</li>
<li>
<strong>Frequency Resolution Trade-off</strong>: Better resolution
requires longer processing time</li>
<li>
<strong>Amplitude Sensitivity</strong>: Performance depends on
appropriate cutoff thresholds</li>
</ul>
</div>
<div class="section level3">
<h3 id="biological-considerations">Biological Considerations<a class="anchor" aria-label="anchor" href="#biological-considerations"></a>
</h3>
<ul>
<li>
<strong>Species Specificity</strong>: Different organisms produce
different acoustic signatures</li>
<li>
<strong>Environmental Noise</strong>: Background noise can inflate
BBAI values</li>
<li>
<strong>Seasonal Variation</strong>: Activity patterns change with
environmental conditions</li>
</ul>
</div>
<div class="section level3">
<h3 id="best-practices">Best Practices<a class="anchor" aria-label="anchor" href="#best-practices"></a>
</h3>
<ol style="list-style-type: decimal">
<li><p><strong>Consistent Parameters</strong>: Use identical parameters
when comparing recordings</p></li>
<li><p><strong>Quality Control</strong>: Monitor for equipment-generated
artifacts</p></li>
<li><p><strong>Validation</strong>: Cross-validate with manual
inspection of spectrograms</p></li>
<li><p><strong>Documentation</strong>: Record all parameter settings and
environmental conditions</p></li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The Broadband Activity Index provides a powerful tool for quantifying
acoustic activity across multiple frequency bands. Its ability to detect
broadband “clicks” makes it particularly valuable for monitoring
non-vocal organisms and environmental disturbances. The enhanced
frequency band analysis allows researchers to understand not only the
overall level of acoustic activity but also its spectral distribution,
providing deeper ecological insights.</p>
<p>By understanding the underlying detection algorithm and properly
tuning parameters for specific applications, researchers can effectively
use the BBAI for a wide range of acoustic monitoring and analysis
tasks.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Francisco Rivas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
